{
  "Vant: 下拉刷新列表": {
    "prefix": "VantInitList",
    "body": [
      "<template>",
      "\t<div class=\"list\">",
      "\t\t<van-pull-refresh v-model=\"refreshLoading\" @refresh=\"handleRefreshClick\" head-height=\"80\">",
      "\t\t\t<template v-if=\"skeletonLoading\">",
      "\t\t\t\t<van-skeleton title :row=\"2\" style=\"margin: 32px 0\" />",
      "\t\t\t\t<van-skeleton title :row=\"2\" style=\"margin: 32px 0\" />",
      "\t\t\t\t<van-skeleton title :row=\"2\" style=\"margin: 32px 0\" />",
      "\t\t\t\t<van-skeleton title :row=\"2\" style=\"margin: 32px 0\" />",
      "\t\t\t</template>",
      "",
      "\t\t\t<van-list v-else v-model:loading=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" :offset=\"100\" :immediate-check=\"false\" @load=\"fetchList\">",
      "\t\t\t\t<van-cell-group class=\"card\" v-for=\"(item, index) of page.list\" :key=\"index\">",
      "\t\t\t\t\t<van-cell :title=\"item.productName\" :border=\"false\">",
      "\t\t\t\t\t\t<template #value>",
      "\t\t\t\t\t\t\t<span>{{ item.statusName }}</span>",
      "\t\t\t\t\t\t</template>",
      "\t\t\t\t\t</van-cell>",
      "\t\t\t\t\t<van-cell :border=\"false\" title=\"订单号\" :value=\"item.orderNo\" />",
      "\t\t\t\t\t<van-cell :border=\"false\" title=\"下单时间\" :value=\"item.orderTime\" />",
      "",
      "\t\t\t\t\t<div class=\"btn\">",
      "\t\t\t\t\t\t<van-button type=\"primary\" round size=\"small\" @click=\"jumpDetail(item)\">查看</van-button>",
      "\t\t\t\t\t\t<van-button type=\"primary\" round size=\"small\" @click=\"jumpPay(item)\">付款</van-button>",
      "\t\t\t\t\t</div>",
      "\t\t\t\t</van-cell-group>",
      "\t\t\t</van-list>",
      "\t\t</van-pull-refresh>",
      "\t</div>",
      "</template>",
      "",
      "<script>",
      "import { ref, onMounted, reactive } from 'vue'",
      "import { useRoute } from 'vue-router'",
      "",
      "import { usePost } from '@/hooks/useRequest.js'",
      "",
      "export default {",
      "\tname: 'list',",
      "\tsetup() {",
      "\t\tconst route = useRoute()",
      "\t\tconst finished = ref(false)",
      "\t\tconst loading = ref(false)",
      "\t\tconst refreshLoading = ref(false)",
      "\t\tconst skeletonLoading = ref(true)",
      "\t\tconst page = reactive({",
      "\t\t\tlist: [],",
      "\t\t\tsize: 10,",
      "\t\t\tpage: 0",
      "\t\t})",
      "",
      "\t\tconst fetchList = () => {",
      "\t\t\tloading.value = true",
      "",
      "\t\t\treturn usePost(",
      "\t\t\t\t'/h5-api/passenger-vehicle/package/order/page',",
      "\t\t\t\t{",
      "\t\t\t\t\tpage: page.page,",
      "\t\t\t\t\tsize: page.size,",
      "\t\t\t\t\tproductType: route.query.serviceType || ''",
      "\t\t\t\t},",
      "\t\t\t\tfalse",
      "\t\t\t)",
      "\t\t\t\t.then((res) => {",
      "\t\t\t\t\tif (res.result) {",
      "\t\t\t\t\t\tpage.list = page.list.concat(res.result?.content || [])",
      "\t\t\t\t\t\tpage.page += 1",
      "",
      "\t\t\t\t\t\tif (page.page === res.result.totalPage) {",
      "\t\t\t\t\t\t\tfinished.value = true",
      "\t\t\t\t\t\t}",
      "\t\t\t\t\t} else {",
      "\t\t\t\t\t\tfinished.value = true",
      "\t\t\t\t\t}",
      "\t\t\t\t})",
      "\t\t\t\t.catch(() => {",
      "\t\t\t\t\tfinished.value = true",
      "\t\t\t\t})",
      "\t\t\t\t.finally(() => {",
      "\t\t\t\t\trefreshLoading.value = false",
      "\t\t\t\t\tloading.value = false",
      "\t\t\t\t})",
      "\t\t}",
      "",
      "\t\tconst handleRefreshClick = () => {",
      "\t\t\tpage.list = []",
      "\t\t\tpage.page = 0",
      "\t\t\tfinished.value = false",
      "\t\t\trefreshLoading.value = true",
      "\t\t\tfetchList().then(() => {",
      "\t\t\t\trefreshLoading.value = false",
      "\t\t\t})",
      "\t\t}",
      "",
      "\t\tconst jumpDetail = (item) => {",
      "\t\t\tconsole.log(item)",
      "\t\t}",
      "",
      "\t\tconst jumpPay = (item) => {",
      "\t\t\tconsole.log(item)",
      "\t\t}",
      "",
      "\t\tonMounted(() => {",
      "\t\t\tfetchList().finally(() => {",
      "\t\t\t\tskeletonLoading.value = false",
      "\t\t\t})",
      "\t\t})",
      "\t\treturn {",
      "\t\t\tskeletonLoading,",
      "\t\t\trefreshLoading,",
      "\t\t\tpage,",
      "\t\t\tfinished,",
      "\t\t\tloading,",
      "\t\t\tfetchList,",
      "\t\t\thandleRefreshClick,",
      "\t\t\tjumpDetail,",
      "\t\t\tjumpPay",
      "\t\t}",
      "\t}",
      "}",
      "</script>",
      "",
      "<style lang=\"less\" scoped>",
      ".list {",
      "\t.card {",
      "\t\tpadding: 20px 24px;",
      "\t\t/deep/ .van-cell {",
      "\t\t\tcolor: #666;",
      "\t\t\tfont-size: 12px;",
      "\t\t\tpadding: 0;",
      "\t\t\tline-height: 28px;",
      "",
      "\t\t\t&:nth-child(1) {",
      "\t\t\t\tfont-size: 14px;",
      "\t\t\t\tcolor: #333;",
      "",
      "\t\t\t\t.van-cell__value {",
      "\t\t\t\t\tfont-size: 12px;",
      "\t\t\t\t}",
      "\t\t\t}",
      "\t\t}",
      "",
      "\t\t.btn {",
      "\t\t\tmargin-top: 20px;",
      "\t\t\ttext-align: right;",
      "\t\t\t/deep/ .van-button {",
      "\t\t\t\tmargin-left: 10px;",
      "\t\t\t\tpadding: 0 22px;",
      "\t\t\t}",
      "\t\t}",
      "\t}",
      "}",
      "</style>",
      ""
    ]
  }
}